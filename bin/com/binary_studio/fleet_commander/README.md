# Добро пожаловать во FleetCommander.
В этом задании вашей задачей будет создать консольный пошаговый симулятор космических битв. Мы уже создали часть инфраструктуры и интерфейсы, чтобы вам помочь. 

# Rules of engagement
Основа данного симулятора - космические корабли. 
Корабли имеют несколько основных базовых характеристик: 
 - Скорость `Velocity` измеряется в `m/s`, 
 - Размер `Size` измеряется в `m`,
 - Мощность реактора `Power Grid(PG)` измеряется в `MW` 
 - Заряд аккамулятора `Capacitor(Cap)` измеряется в `GA/H`
 - Восстановление заряда аккамулятора в ход `Cap regen`
 - Состояние корпуса и щита `Hull/Shield` измеряеться в `EHP`

Каждый корабль состоит из двух подсистем: защитной и атакующей.
Каждая система требует определённое колличество `PG`. Потребление `PG` суммируется, т.е. для того, чтобы установить две подсистемы с требованием к `PG` 50 MW и 25 MW потребуется корабль с 25 + 50 => 75 MW. При недостатке мощности реактора необходимо выбросить `NotEnoughPowergridException`.

Атакующая подсистема работает следующим образом: в её метод attack передаётся цель, после чего производится расчет нанесенного урона по следующей формуле: 
```
sizeReductionModifier = when targetSize >= optimalSize => 1  
						else optimalSize / targetSize	
speedReductionModifier = optimalSpeed / max(1, targetSpeed - optimalSpeed)
damage = baseDamage * min(sizeReductionModifier, speedReductionModifier)
 ```  
Полученный урон округляется до целого числа с округлением в большую сторону. Для атаки требуется определённое колличество заряда аккамулятора. При попытке атаковать с недостаточным колличеством заряда аккамулятора необходимо вернуть пустой Optional.


Защитная подсистема немного сложнее: она имеет пассивные и активные эффекты. Для активации защитной системы необходимо определённое кол-во заряда. Активация восстановливает `EHP` корпуса и щита. При попытке активировать защитную систему с недостаточным кол-вом заряда необходимо вернуть пустой Optional. Также защитная система пассивно снижает входящий урон на определённый процент. При уменьшении урона происходит округление до ближайшего целого в большую сторону. Урон не может быть снижен более чем на 95%.

Игра пошаговая и работает по следующим правилам: 
В начале игры на поле боя прибывают корабль A и B
Очередность хода определяеться с помощью скоростью корабля: первым ходит корабль с максимальной скоростью. Если скорости равны, то первым ходит корабль А.
После этого повторяются следующие дествия, пока один из кораблей не будет уничтожен:

1. Оба корабля по очереди атакуют друг друга
2. Если один из кораблей уничтожен, то игра окончена
3. Каждый корабль исползует активный режим защитной системы для восстановления корпуса и щитов
4. Каждый корабль восстанавливает заряд акаммулятора.

# Tips and tricks
1. Ваша задача - имплементировать следующие классы:
  `com.binary_studio.fleet_commander.core.ship.DockedVessel`  
  `com.binary_studio.fleet_commander.core.ship.CombatReadyVessel`
  `com.binary_studio.fleet_commander.core.subsystems.DefenciveSubsystemImpl`
  `com.binary_studio.fleet_commander.core.subsystems.AttackSubsystemImpl`
2. Посмотрите исходники тестов, это поможет понять ожидаемое поведение  
3. Нельзя изменять контракт существующих классов(сигнатуры методов), но изменять их реализацию можно и нужно. Так же вы можете создавать новые методы в уже существующих классах и интерфейсах или создавать новые классы и интерфейсы.
4. Начните выполнение задания с имплементации подсистем, а потом перейдите к имплеменатции корабля.
5. В данном задании можете не волноваться про null-safety, мы не будем передавать null в параметрах.

Удачи!